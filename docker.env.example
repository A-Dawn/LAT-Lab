# Docker部署专用环境变量配置
# 复制此文件为 .env 并修改相应配置

# ==================== 基础配置 ====================
DEBUG=False
HOST=0.0.0.0
PORT=8000

# ==================== 数据库设置 ====================
# Docker使用MySQL
DB_TYPE=mysql
MYSQL_USER=lat_lab_user
MYSQL_PASSWORD=your_db_password
MYSQL_HOST=db
MYSQL_PORT=3306
MYSQL_DB=lat_lab_db

# MySQL Root密码（用于数据库初始化）
MYSQL_ROOT_PASSWORD=root_password_123

# ==================== JWT设置 ====================
SECRET_KEY=Plz_Put_A_very_long_and_secure_secret_key_here_minimum_32_chars_here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# ==================== 邮件设置 ====================
MAIL_SERVER=smtp.example.com
MAIL_PORT=587
MAIL_USERNAME=your-email@example.com
MAIL_PASSWORD=your-email-password
MAIL_FROM=your-email@example.com
MAIL_TLS=True
MAIL_SSL=False  # 设置为True时优先使用SSL连接，失败时降级到无SSL

# 验证令牌过期时间（小时）
VERIFICATION_TOKEN_EXPIRE_HOURS=24

# ==================== 网站基础URL ====================
BASE_URL=http://localhost

# ==================== CORS设置 ====================
CORS_ORIGINS=["*"]

# ==================== 上传文件配置 ====================
MAX_UPLOAD_SIZE=5242880

# ==================== 速率限制配置 ====================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_LOGIN_REQUESTS=50
RATE_LIMIT_LOGIN_WINDOW=60
RATE_LIMIT_API_REQUESTS=1000
RATE_LIMIT_API_WINDOW=60
RATE_LIMIT_UPLOAD_REQUESTS=50
RATE_LIMIT_UPLOAD_WINDOW=60
RATE_LIMIT_PLUGIN_REQUESTS=100
RATE_LIMIT_PLUGIN_WINDOW=60

# ==================== 插件设置 ====================
PLUGIN_SANDBOX_ENABLED=True
PLUGIN_TIMEOUT_SECONDS=5

# ==================== 插件市场配置 ====================
PLUGIN_MARKETPLACE_SOURCE=local
PLUGIN_MARKETPLACE_GIT_REPO=
PLUGIN_MARKETPLACE_GIT_BRANCH=main
PLUGIN_MARKETPLACE_GIT_PATH=marketplace_config.json
PLUGIN_MARKETPLACE_GIT_TOKEN=
PLUGIN_MARKETPLACE_CACHE_TTL=3600

# ==================== 前端配置 ====================
# Vite构建参数
VITE_API_BASE_URL=/api
VITE_UPLOAD_URL=/uploads
VITE_ENABLE_DEV_TOOLS=false

# ==================== Docker资源限制 ====================
# 数据库容器资源限制
DB_CPU_LIMIT=1
DB_MEMORY_LIMIT=512M
DB_MEMORY_RESERVATION=384M

# 后端容器资源限制
BACKEND_CPU_LIMIT=1
BACKEND_MEMORY_LIMIT=384M
BACKEND_MEMORY_RESERVATION=256M

# 前端容器资源限制
FRONTEND_CPU_LIMIT=0.5
FRONTEND_MEMORY_LIMIT=192M
FRONTEND_MEMORY_RESERVATION=128M

# ==================== 端口配置 ====================
# 数据库端口
DB_PORT=3307

# 后端API端口
BACKEND_PORT=8000

# 前端端口
FRONTEND_PORT=80

# ==================== 日志配置 ====================
LOG_MAX_SIZE=10m
LOG_MAX_FILES=3

# ==================== 健康检查配置 ====================
# 数据库健康检查
DB_HEALTH_TIMEOUT=20s
DB_HEALTH_RETRIES=10
DB_HEALTH_INTERVAL=30s
DB_HEALTH_START_PERIOD=40s

# 后端健康检查
BACKEND_HEALTH_TIMEOUT=30s
BACKEND_HEALTH_RETRIES=10
BACKEND_HEALTH_INTERVAL=30s
BACKEND_HEALTH_START_PERIOD=120s

# 前端健康检查
FRONTEND_HEALTH_TIMEOUT=10s
FRONTEND_HEALTH_RETRIES=5
FRONTEND_HEALTH_INTERVAL=30s
FRONTEND_HEALTH_START_PERIOD=40s 